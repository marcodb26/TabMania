/* Put our CSS *after* the Bootstrap CSS, to make sure we get priority for any rules overlap
   See: https://stackoverflow.com/questions/15670631/does-the-order-of-classes-listed-on-an-item-affect-the-css
*/

.tm-fit-bottom {
    position: absolute;
	/* "top: 0" will get overridden by .tm-fit-after-bstabs or .tm-fit-after-search when needed */
	top: 0;
    bottom: 0;
    width: 100%;
}

.tm-fit-after-bstabs {
	top: 2.7rem;
}

.tm-fit-after-search {
	top: 2.9rem;
}

/* I don't like the unselected tabs to have blue text. You could obtain the
   same result by changing <a> to <span>, but since the Bootstrap documentation
   doesn't mention anything about <span>, best to stick with what they say you
   should use, and just override the color information
*/
.tm-nav-link, .tm-nav-link:hover {
	color: #495057;
}

.tm-full-height {
	height: 100%;
}

.tm-scrollable-bstab-body {
	/* Make scrollbars show on this div, not on the outer top level */
	height: 100%;
	overflow: auto;
}

.tm-align-checkbox {
	margin-top: 0.39em;
}

.tm-searchbox {
	padding-left: 2rem;
	padding-right: 0.5rem;
}

/* Alignment for Font Awesome icons, taken from Font Awesome class "svg-inline--fa" */
.tm-fa-magnifier-align {
	width: 1em;
    height: 1em;
    vertical-align: -.125em;
}

.tm-fa-volume-align {
	width: 1.2em;
    height: 1.2em;
    vertical-align: -.36em;
}

.tm-fa-bookmark {
	width: 1em;
    height: 1em;
	/* Bookmarks always show up in black and white, but we want this icon to
	   stand out. Choosing a dark color to avoid it "standing out too much".
	*/
	color: #a60c29;
}

.tm-fa-history {
	width: 1em;
    height: 1em;
	/* Recently closed tabs always show up in black and white, but we want this
	   icon to stand out. Choosing a dark color to avoid it "standing out too much".
	   For now let's use the same color as .tm-fa.bookmark, but later we should
	   change it.
	*/
	color: #a60c29;
}

.tm-fa-thumbtack-tile {
	width: 1em;
    height: 1em;
    vertical-align: -.3em;
}

.tm-fa-thumbtack-group {
	/* Keep it the same size of .tm-fa-thumbtack-tile, which is 1em in the context of a 0.875em font size */
	width: 0.875em;
    height: 0.875em;
    vertical-align: -.1em;
}

/* See https://stackoverflow.com/questions/20804016/editing-input-type-search-pseudo-element-button-x */
.tm-searchbox::-webkit-search-cancel-button {
	/* Leave room for the overlay with the search results count.
	   "4rem" still looks ok when the overlay shows "999+"
	*/
	margin-left: 4rem;
}

.tm-searchbox-count {
	right: 2rem;
}

.tm-searchbox-icon {
	left: 0.5rem;
}

.tm-tile-small {
	/* Bootstrap "small" is still too big for our tiles */
	font-size: .75em;
	/* line-height: 1; */
	margin-right: 1rem;
}

.tm-tile-url {
	/* Bootstrap "small" is still too big for our tiles */
	font-size: .75em;
	/* line-height: 1; */
	margin-right: 0.75rem;
	margin-bottom: 0rem;
}

.tm-tile-title {
	/* Bootstrap "small" is still too big for our tiles */
	font-size: .9em;
	line-height: 1;
	/* When an icon is missing, the vertical size of the title can get smaller than 16px... */
	min-height: 16px;
}

.tm-indent-right {
	padding: 0.1rem 0.1rem 0.1rem 0.5rem;
}

.tm-favicon-16 {
	min-width: 16px;
	max-width: 16px;
	height: auto; 
}

.tm-favicon-24 {
	min-width: 24px;
	max-width: 24px;
	height: auto; 
}

.tm-hide {
	display: none;
}

.tm-shaded {
	box-shadow: 0 0 2px black;
}

/* Make the icon black&white */
/* See https://developer.mozilla.org/en-US/docs/Web/CSS/filter */
.tm-favicon-bw {
	filter: grayscale(100%);
}

.tm-min-empty-container {
	position: relative;
    min-height: 2rem;
}

.tm-vertical-center {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
}

.tm-horizontal-center {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
}

/* We can't use both "tm-horizontal-center" and "tm-vertical-center" in the same
   element, because "transform:" of one overrides "transform:" of the other...
   I wish they were cumulative instead...
 */
.tm-all-center {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 100%;
	transform: translate(-50%, -50%);
}

.tm-overlay {
	z-index: 2;
	position: absolute;
}

.tm-full-size {
	top: 0px;
	height: 100%;
	width: 100%;
}

.tm-pointer-no {
	pointer-events: none;
}

.tm-pointer-all {
	pointer-events: all;
}

.tm-stacked-below {
	position: relative;
	z-index: 1;
}

.tm-customgroup-header {
	line-height: 1.7;
}

/* To be used in conjunction with Bootstrap's "badge" class.
   Bootstrap's "badge" class is "vertical-align: baseline;", we prefer "middle".
*/
.tm-text-badge {
	vertical-align: middle;
}

.tm-number-badge {
	vertical-align: text-bottom;
}

.tm-icon-badge {
	vertical-align: middle;
	/* Half of Bootstrap's "p-1" */
	padding: 0.125rem;
	opacity: 0.60;
	min-width: 2em;
}

/* translateY(50%) vertically centers the circle, provided the parent <div> has 100% height */
.tm-circle {
	position: relative;
	top: 50%;
	transform: translateY(-50%);

	margin-left: 0.5rem;

	height: 2.5rem;
	width: 2.5rem;
	border-radius: 50%;
	text-align: center;
	background: white;
	font-weight: bolder;

	box-shadow: 0 0 5px black;
}

.tm-round-toggle {
	border-radius: 50%;
	/*box-shadow: 0 0 5px black;*/
}

.tm-rounded-btn {
	border-radius: 25%;
}

.tm-dropdown-item {
	/* Override Bootstrap's "dropdown-item", which has "white-space: nowrap;".
	   "nowrap" is a better option for standard menu items, but we want to also
	   visualize long things in a container fashion
	 */
	white-space: normal;
	font-size: 0.75em;
}

.tm-dropdown-menu {
	min-width: 20rem;
}

.tm-dropdown-toggle {
	opacity: 0.75;
	width: 2.5em;
}

.tm-dropdown-toggle::after {
	/* Bootstrap's dropdown-toggle puts some left margin before the caret, assuming
	   there's going to be text on the left of the caret. This causes the caret to
	   be slightly off to the right when the toggle is used without text.
	   Implementing a behavior similar to Bootstrap's dropdown-toggle-split, except
	   that dropdown-toggle-split completely removes the dropdown-toggle's "margin-left: 0.255em",
	   and that makes the toggle nudged a bit too much to the left (fr whatever reason,
	   I didn't understand it, maybe we should investigate this more), while here we just
	   want the left margin to push the caret perfectly to the center.
	   Note that dropdown-toggle-split also makes the toggle too narrow, but we fix the
	   width of the toggle in tm-dropdown-toggle, so that wouldn't be an issu.
	*/
	margin-left: .14em;
}

.tm-tile-toggle-center {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	margin-left: 0.5rem;
}

/* This is a copy of Bootstrap's "invalid-feedback". Copied it because the
   Bootstrap original has a "display: none" that completely defeats the purpose...
*/
.tm-invalid-feedback {
	width: 100%;
	margin-top: .25rem;
	font-size: .875em;
	color: #dc3545;
}

.tm-icon-badge-pos {
	position: absolute;
	/*top: 50%;*/
	bottom: 40%;
	/*transform: translateY(-50%);*/
	left: 0.4rem;
}

.tm-float-right {
	float: right;
}

.tm-btnbar-btn {
	position: relative;
}






/******** tm-menu-icon ********/

.tm-menu-icon {
	/* Make the element width at least as large as the ::after pseudo element width, anything
	   extra will be like padding */
	width: 2em;
}

.tm-menu-icon::after {
	display: inline-block;
	width: 2em;
    height: 2em;

	content: "";

	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);

	border-radius: .25rem;
	background-repeat: no-repeat;
	background-position: center;
	background-size: 1em;

/*
These three dots were too simple to bother any tool or library, just created by hand

<svg role="img" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg"><circle cx="150" cy="100" r="25" fill="currentColor"/><circle cx="150" cy="200" r="25" fill="currentColor"/><circle cx="150" cy="300" r="25" fill="currentColor"/></svg>

Encoded with https://www.base64encode.org/
*/
	background-image: url(data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAzMDAgNDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxjaXJjbGUgY3g9IjE1MCIgY3k9IjEwMCIgcj0iMjUiIGZpbGw9ImN1cnJlbnRDb2xvciIvPjxjaXJjbGUgY3g9IjE1MCIgY3k9IjIwMCIgcj0iMjUiIGZpbGw9ImN1cnJlbnRDb2xvciIvPjxjaXJjbGUgY3g9IjE1MCIgY3k9IjMwMCIgcj0iMjUiIGZpbGw9ImN1cnJlbnRDb2xvciIvPjwvc3ZnPg==);
}

.tm-menu-icon:hover::after {
	/* Same color as .btn-light */
	background-color: #f8f9fa;
}

/* When a dropdown menu is open, Bootstrap adds the "show" class to the element
   that has the "tm-menu-icon" class. When both "tm-menu-icon" and "show" are
   present (description of the selector below ".tm-menu-icon.show"), set the
   color of the ::after pseudoelement to the same as when it's active (clicked)
*/
.tm-menu-icon:active::after, .tm-menu-icon.show::after {
	/* A color slightly darker than .btn-light */
	background-color: #f1f2f3;
	box-shadow: 0 0 3px #f1f2f3;
}

/******** END: tm-menu-icon ********/







/******** tm-plus-icon ********/

.tm-plus-icon {
	/* Make the element width at least as large as the ::after pseudo element width, anything
	   extra will be like padding */
	width: 2em;
}

.tm-plus-icon::after {
	display: inline-block;
	width: 2em;
    height: 2em;

	content: "";

	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);

	border-radius: .25rem;
	background-repeat: no-repeat;
	background-position: center;
	background-size: 1em;

/*
These three dots were too simple to bother any tool or library, just created by hand

<svg role="img" viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg"><rect rx="10" height="26" width="200" x="50" y="187" fill="currentColor"/><rect rx="10" height="200" width="26" x="137" y="100" fill="currentColor"/></svg>

Encoded with https://www.base64encode.org/
*/
	background-image: url(data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAzMDAgNDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHJ4PSIxMCIgaGVpZ2h0PSIyNiIgd2lkdGg9IjIwMCIgeD0iNTAiIHk9IjE4NyIgZmlsbD0iY3VycmVudENvbG9yIi8+PHJlY3Qgcng9IjEwIiBoZWlnaHQ9IjIwMCIgd2lkdGg9IjI2IiB4PSIxMzciIHk9IjEwMCIgZmlsbD0iY3VycmVudENvbG9yIi8+PC9zdmc+);
}

.tm-plus-icon:hover::after {
	/* Same color as .btn-light */
	background-color: #f8f9fa;
}

.tm-plus-icon:active::after {
	/* A color slightly darker than .btn-light */
	background-color: #f1f2f3;
	box-shadow: 0 0 3px #f1f2f3;
}

/******** END: tm-plus-icon ********/






/******** tm-close-icon ********/

.tm-close-icon-button {
	/* Make the button containing the <span class="tm-close-icon"> disappear */
	background-color: transparent;
	border: transparent;
	outline: transparent;
}

.tm-close-icon-button:active {
	/* Make the button containing the <span class="tm-close-icon"> disappear */
	outline: transparent;
}

.tm-close-icon-button:focus {
	/* Make the button containing the <span class="tm-close-icon"> disappear */
	outline: transparent;
}

.tm-close-icon {
	outline: transparent;
}

.tm-close-icon::after {
	width: 1.5em;
    height: 1em;

	opacity: 0.75;
	/* Same color as Bootstrap's .btn-secondary */
	background-color: #6c757d;
	border-radius: .25rem;

	content: "";

    display: inline-block;

	background-repeat: no-repeat;
	background-position: center;
	background-size: 1em;

/*
See close-icon.svg (created with Method Draw - http://github.com/duopixel/Method-Draw/ (MIT License))

<svg role="img" viewBox="0 0 448 300" xmlns="http://www.w3.org/2000/svg"><rect transform="rotate(-45 224,145)" rx="10" height="56" width="248" y="122" x="100" fill="#fff"/><rect transform="rotate(45 224,150)" rx="10" height="56" width="248" y="122" x="100" fill="#fff"/></svg>

Encoded with https://www.base64encode.org/
*/
	background-image: url(data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCA0NDggMzAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKC00NSAyMjQsMTQ1KSIgcng9IjEwIiBoZWlnaHQ9IjU2IiB3aWR0aD0iMjQ4IiB5PSIxMjIiIHg9IjEwMCIgZmlsbD0iI2ZmZiIvPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKDQ1IDIyNCwxNTApIiByeD0iMTAiIGhlaWdodD0iNTYiIHdpZHRoPSIyNDgiIHk9IjEyMiIgeD0iMTAwIiBmaWxsPSIjZmZmIi8+PC9zdmc+);
}

.tm-close-icon:hover::after {
	/* Same color as .btn-secondary:hover */
	background-color: #5c636a;
}

.tm-close-icon:active::after {
	/* Same color as .btn-secondary:active */
	background-color: #5c636a;
	box-shadow: 0 0 3px black;
}

.tm-close-icon-light {
	outline: transparent;
}

.tm-close-icon-light::after {
	width: 1.5em;
    height: 1em;

	opacity: 0.75;
	/* Same color as Bootstrap's .btn-light */
	background-color: #f8f9fa;
	border-radius: .25rem;

	content: "";

    display: inline-block;

	background-repeat: no-repeat;
	background-position: center;
	background-size: 1em;

/*
See close-icon.svg (created with Method Draw - http://github.com/duopixel/Method-Draw/ (MIT License)),
this is the version edited to use black color for the "x"

<svg role="img" viewBox="0 0 448 300" xmlns="http://www.w3.org/2000/svg"><rect transform="rotate(-45 224,145)" rx="10" height="56" width="248" y="122" x="100" fill="#000"/><rect transform="rotate(45 224,150)" rx="10" height="56" width="248" y="122" x="100" fill="#000"/></svg>

Encoded with https://www.base64encode.org/
*/
	background-image: url(data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCA0NDggMzAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKC00NSAyMjQsMTQ1KSIgcng9IjEwIiBoZWlnaHQ9IjU2IiB3aWR0aD0iMjQ4IiB5PSIxMjIiIHg9IjEwMCIgZmlsbD0iIzAwMCIvPjxyZWN0IHRyYW5zZm9ybT0icm90YXRlKDQ1IDIyNCwxNTApIiByeD0iMTAiIGhlaWdodD0iNTYiIHdpZHRoPSIyNDgiIHk9IjEyMiIgeD0iMTAwIiBmaWxsPSIjMDAwIi8+PC9zdmc+);
}

.tm-close-icon-light:hover::after {
	/* Same color as btn-light:hover */
	background-color: #f9fafb;
}

.tm-close-icon-light:active::after {
	/* Same color as btn-light:active */
	background-color: #f9fafb;
	box-shadow: 0 0 3px white;
}

/******** END: tm-close-icon ********/










/* Applies to class "tm-hover-target" of an element descendent of an element of class "tm-hover".
   See "descendent combinator" in https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors
 */
.tm-hover .tm-hover-target {
	visibility: hidden;
}

/* Applies to class "tm-hover-target" of an element descendent of an element of class "tm-hover"
   when the element of class "tm-hover" is in state "hover".
   See "pseudo classes" in https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors
 */
.tm-hover:hover .tm-hover-target {
	transition-delay: 0.5s;
	visibility: visible;
}

/* Inspired from Bootstrap's "callout" class, which is described in the docs of
   Bootstrap 5, but then doesn't seem to exist in the actual CSS as of the
   alpha version of Bootstrap 5
*/
.tm-callout {
    border: 1px solid #e9ecef;
    border-left-width: .25rem;
    border-radius: .25rem;
}

.tm-callout-settings-card {
    margin-top: 0.5rem;
    padding-bottom: 0.5rem;
}

/* Matching the Bootstrap colors for consistency */
.tm-callout-grey {
    border-left-color: #6c757d;
}

.tm-callout-blue {
    border-left-color: #0d6efd;
}

.tm-callout-red {
    border-left-color: #dc3545;
}

.tm-callout-yellow {
    border-left-color: #ffc107;
}

.tm-callout-green {
    border-left-color: #198754;
}

.tm-callout-cyan {
    border-left-color: #0dcaf0;
}

/* Bootstrap's "form-check-input" uses a white dot when a radio item
   is checked. That breaks when the background color of the radio item
   is really light or white. This class covers that case (SVG sourced
   from "form-check-input" with color changed from white to black).

   Note that the syntax should be:

   background-image: url(data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'><circle r='2' fill='%23000'/></svg>);

   but that doesn't seem to work (Chrome says "Invalid property value"),
   then I found this and encoded the string above into base64:
   https://stackoverflow.com/a/21626701/10791475
*/
.tm-check-reversed:checked[type=radio] {
	background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9Jy00IC00IDggOCc+PGNpcmNsZSByPScyJyBmaWxsPScjMDAwJy8+PC9zdmc+);
}

.tm-blink {
    animation-name: tm-blink-animation;
    animation-duration: 0.2s;
}

@keyframes tm-blink-animation {  
    from { background: red; }
    to   { background: default; }
}

/* See https://codepen.io/Ahrengot/pen/bKdLC and https://stackoverflow.com/a/31458204/10791475 */
.tm-blink-loop {
    animation: tm-blink-loop-animation 1s infinite alternate;
}

@keyframes tm-blink-loop-animation { 
  from { opacity: 0; } 
}

.tm-shrink {
    animation-name: tm-shrink-animation;
    animation-duration: 0.3s;
}

@keyframes tm-shrink-animation {  
    from { transform: scale(1); }
    to   { transform: scale(0); }
}


/* Stupid test, tried to see what happens to a search box if you use
   "pointer-events" to redirect the "x" pseudo-element clicks to the
   <input> element by disabling the input clicks altogether.
   Well, nothing good happens, you can't select the text box anymore :-)
   https://stackoverflow.com/questions/7478336/only-detect-click-event-on-pseudo-element

input[type="search"] {
	pointer-events: none;
}

input[type="search"]::-webkit-search-cancel-button {
	pointer-events: auto;
}
*/

/* From Chris Coyier's codepen: https://codepen.io/chriscoyier/pen/XWKEVLy
   Codepen license is MIT: https://blog.codepen.io/documentation/licensing/
*/
.tm-autosize {
  /* easy way to plop the elements on top of each other and have them both sized based on the tallest one's height */
  display: grid;
}

.tm-autosize::after {
  /* Note the weird space! Needed to preventy jumpy behavior */
  content: attr(data-replicated-value) " ";
  /* This is how textarea text behaves */
  white-space: pre-wrap;
  /* Hidden from view, clicks, and screen readers */
  visibility: hidden;
}

.tm-autosize > textarea {
  /* You could leave this, but after a user resizes, then it ruins the auto sizing */
  resize: none;
  /* Firefox shows scrollbar on growth, you can hide like this. */
  overflow: hidden;
}

.tm-autosize > textarea,
.tm-autosize::after {
  /* Identical styling required!! */

  /* Need to set padding identical to Bootstrap's "form-floating".
     If you're not using "form-floating", you should set it back
	 to "padding: 0.5rem;"
  */
  /* padding: 0.5rem; */
  padding-top: 1.625rem;
  padding-bottom: .625rem;

  font: inherit;
  /* Place on top of each other */
  grid-area: 1 / 1 / 2 / 2;
}
